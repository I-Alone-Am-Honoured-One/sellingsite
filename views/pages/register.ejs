<%- include('../partials/header') %>
<section class="container section narrow">
  <div class="section-header">
    <div>
      <h1>Create your account</h1>
      <p class="muted">Join Sellar to buy, sell, and message securely.</p>
    </div>
  </div>
  <% if (error) { %>
    <div class="error"><%= error %></div>
  <% } %>
  <form class="form-card" method="POST" action="/auth/register">
    <label>
      Username
      <input type="text" name="username" value="<%= form?.username || '' %>" required /> <!-- Preserve username input on error -->
    </label>
    <label>
      Email
      <input type="email" name="email" value="<%= form?.email || '' %>" required /> <!-- Preserve email input on error -->
    </label>
    <label>
      Password
      <input type="password" name="password" required /> <!-- Password not preserved for security -->
      <span class="helper">Use at least 8 characters.</span>
    </label>
    <label class="checkbox">
      <input type="checkbox" name="terms_accepted" required />
      <span>
        I agree to the <a href="/terms">Terms of Service</a>.
      </span>
    </label>
    <button class="button primary" type="submit">Register</button>
  </form>
</section>
<%- include('../partials/footer') %>
